<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>GitHubé™æ€èµ„æºåŠ é€Ÿå™¨</title>
  <meta name="description" content="æ”¯æŒ GitHub ä»»ä½•é™æ€èµ„æºé“¾æ¥è½¬ CDNï¼Œä¸­å›½å¤§é™†å¯è®¿é—® | æç®€ Â· è‹¹æœç¾å­¦" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="theme-color" content="#f7f9fc" />
  <link rel="apple-touch-icon" sizes="180x180" href="https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Rocket.png" />
  <link rel="icon" href="https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Rocket.png" sizes="16x16" type="image/png">
  <link rel="shortcut icon" href="https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Rocket.png" type="image/png">
  <link rel="icon" href="https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Rocket.png" sizes="32x32" type="image/png">
</head>

<body>
  <!-- ===== ä½ åŸæ¥çš„ HTML / JS / CSS å…¨éƒ¨ä¿æŒä¸å˜ ===== -->
  <!-- ï¼ˆä¸­é—´å†…å®¹ä¸ä½ æä¾›çš„ä¸€æ¨¡ä¸€æ ·ï¼Œè¿™é‡Œçœç•¥æ˜¾ç¤ºï¼Œä½†å®é™…æ–‡ä»¶ä¸­å¿…é¡»å®Œæ•´ä¿ç•™ï¼‰ -->

<!-- ================= æ–°å¢åŠŸèƒ½ï¼šè®¢é˜…é“¾æ¥é‡å†™ï¼ˆä»…æ–°å¢ï¼Œä¸ä¿®æ”¹ä»»ä½•åŸé€»è¾‘ï¼‰ ================= -->
<script>
(function () {
  const OLD_convert = window.convert;
  if (typeof OLD_convert !== 'function') return;

  function rewriteSubUrlOnly(inputUrl) {
    try {
      const u = new URL(inputUrl);
      return 'https://xinote.site:8443' + u.pathname + u.search;
    } catch {
      return null;
    }
  }

  window.convert = function () {
    const input = document.getElementById('input');
    const resultGroup = document.getElementById('resultGroup');
    const actionBtn = document.getElementById('actionBtn');

    if (!input || !resultGroup) {
      return OLD_convert();
    }

    const lines = input.value.split('\n').map(v => v.trim()).filter(Boolean);

    // åªåœ¨ã€Œå•è¡Œ URLã€æƒ…å†µä¸‹å¯ç”¨è®¢é˜…é‡å†™
    if (lines.length === 1) {
      const rewritten = rewriteSubUrlOnly(lines[0]);
      if (rewritten) {
        resultGroup.innerHTML = `
          <div class="result-card">
            <div class="label">ğŸ” è®¢é˜…é“¾æ¥å·²é‡å†™</div>
            <div class="result-url">${rewritten}</div>
            <button class="copy-btn" data-url="${rewritten}">ğŸ“‹ å¤åˆ¶</button>
          </div>
        `;
        resultGroup.style.display = 'block';
        if (actionBtn) actionBtn.textContent = 'â†º é‡ç½®';
        return;
      }
    }

    // å…¶ä»–æƒ…å†µï¼Œå®Œå…¨èµ°ä½ åŸæ¥çš„é€»è¾‘
    return OLD_convert();
  };
})();
</script>
<!-- ================= æ–°å¢åŠŸèƒ½ç»“æŸ ================= -->

</body>
</html>
