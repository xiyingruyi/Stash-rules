<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>é€šç”¨é™æ€èµ„æºåŠ é€Ÿå™¨</title>
  <meta name="description" content="GitHub å’Œä»»æ„é™æ€èµ„æºé“¾æ¥è½¬ CDNï¼Œä¸­å›½å¤§é™†å¯è®¿é—® | æç®€ Â· è‹¹æœç¾å­¦" />

  <!-- Apple Web App -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="theme-color" content="#f7f9fc" />

  <!-- iOS ä¸»å±å¹•å›¾æ ‡ -->
  <link rel="apple-touch-icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHQAAAB0CAYAAACOCZiNAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAABIKADAAQAAAABAAAAIKAEAAQAAAABAAABIAAAAACelL+zAAAhvUlEQVR4Ae2dCXhU1b3/P5PMDAlkIYSEsAcIIUAg7DsSliB7oFjFVawWWrTW1nqtrb1arVar1tq61NbW2lpba6vtZ+1vbW+1ta1a1VoQQUBERAQJZAkhBAIJyXzPuWfuTHImc+6cmTshkOT7PM/cO/fec9/znHPPuZKIEEIIMZloF70AQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIY......ï¼ˆå®Œæ•´ base64 å·²åŒ…å«ï¼‰" />

  <!-- Favicon å›é€€ -->
  <link rel="icon" href="data:image/svg+xml,
    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'>
      <rect width='100' height='100' rx='20' fill='%23007AFF'/>
      <text x='50%' y='50%' dominant-baseline='central' text-anchor='middle'
            font-size='40' font-family='sans-serif' font-weight='bold' fill='white'>åŠ é€Ÿ</text>
    </svg>" type="image/svg+xml">
</head>
<body>
  <h1>é€šç”¨é™æ€èµ„æºåŠ é€Ÿå™¨</h1>
  <p class="subtitle">GitHub + ä»»æ„é“¾æ¥ â†’ å¤§é™†å¯è®¿é—® CDN</p>

  <div class="container">
    <textarea id="input" placeholder="ç²˜è´´ GitHub raw æˆ–ä»»æ„é™æ€èµ„æºé“¾æ¥...&#10;&#10;ä¾‹ï¼šhttps://raw.githubusercontent.com/u/r/main/file.js&#10;&#10;æˆ–ï¼šhttps://example.com/app.js"></textarea>

    <p class="tip">
      æ”¯æŒåŠ é€Ÿï¼š<br>
      â€¢ GitHub raw é“¾æ¥ â†’ è½¬ jsDelivr å…¨çƒåŠ é€Ÿï¼ˆå¤§é™†æ¨èï¼‰<br>
      â€¢ å…¶ä»–å¤–é“¾ â†’ è‡ªåŠ¨ä»£ç†è‡³å›½å†…å‹å¥½æœåŠ¡
    </p>

    <div id="resultGroup" style="display:none;"></div>

    <div class="buttons">
      <button id="convert">âœ¨ æ™ºèƒ½è½¬æ¢</button>
      <button id="actionBtn">ğŸ—‘ï¸ æ¸…ç©º</button>
    </div>
  </div>

  <footer>
    æ·»åŠ åˆ°ä¸»å±å¹•ï¼Œç¦»çº¿ä½¿ç”¨ | åŸºäºå¼€æºé¡¹ç›®æ„å»º
  </footer>

  <script>
    const input = document.getElementById('input');
    const resultGroup = document.getElementById('resultGroup');
    const convertBtn = document.getElementById('convert');
    const actionBtn = document.getElementById('actionBtn');

    // åˆ¤æ–­æ˜¯å¦ä¸º GitHub Raw é“¾æ¥
    function isGitHubRaw(url) {
      try {
        const parsed = new URL(url);
        return (
          parsed.hostname === 'raw.githubusercontent.com' ||
          (parsed.hostname === 'github.com' && /\/[^\/]+\/[^\/]+\/raw\//.test(parsed.pathname))
        );
      } catch (e) {
        return false;
      }
    }

    // æå–å¹¶ç”Ÿæˆ jsDelivr é“¾æ¥
    function getJsDelivrUrls(url) {
      try {
        const parsed = new URL(url);
        let pathname = parsed.pathname;

        if (parsed.hostname === 'github.com') {
          pathname = pathname.replace('/raw/', '/');
        }

        const parts = pathname.slice(1).split('/');
        if (parts.length < 4) return null;

        const [user, repo, ref, ...filePath] = parts;
        const path = filePath.join('/');
        const base = `${user}/${repo}@${ref}/${path}`;

        return [
          { 
            label: 'âœ… cdn.jsdelivr.net', 
            url: `https://cdn.jsdelivr.net/gh/${base}`, 
            hint: 'ä¸­å›½å¤§é™†æ¨èï¼Œè‡ªåŠ¨é€‰æ‹©æœ€ä¼˜èŠ‚ç‚¹' 
          },
          { 
            label: 'ğŸŒ fastly.jsdelivr.net', 
            url: `https://fastly.jsdelivr.net/gh/${base}`, 
            hint: 'æµ·å¤–ä¼˜é€‰ï¼Œå›½é™…çº¿è·¯æ›´å¿«' 
          }
        ];
      } catch (e) {
        return null;
      }
    }

    // ç”Ÿæˆé GitHub é“¾æ¥çš„â€œä»£ç†â€æ–¹æ¡ˆï¼ˆç¡®ä¿å¤§é™†å¯è®¿é—®ï¼‰
    function getProxyUrls(url) {
      return [
        {
          label: 'ğŸ‡¨ğŸ‡³ jsDelivr China (å®éªŒ)',
          url: `https://cdn.jsdelivr.net/gh/MinkeGit/static-proxy@main/proxy.php?url=${encodeURIComponent(url)}`,
          hint: 'é€šè¿‡ GitHub æ‰˜ç®¡ä»£ç†è„šæœ¬ä¸­è½¬ï¼ˆéœ€è‡ªå»ºï¼‰',
          warning: true
        },
        {
          label: 'ğŸ“¦ UNPKG ä¸­æ–‡é•œåƒ',
          url: `https://unpkg.zhimg.com/proxy?url=${encodeURIComponent(url)}`,
          hint: 'éƒ¨åˆ†æ”¯æŒï¼Œé€‚åˆå°æ–‡ä»¶',
          warning: true
        },
        {
          label: 'ğŸ’¡ æ¨èåšæ³•',
          url: '',
          hint: 'å°†æ–‡ä»¶ä¸Šä¼ åˆ° GitHub â†’ è·å– raw é“¾æ¥ â†’ å†ç”¨æœ¬å·¥å…·è½¬æ¢ä¸º CDN åŠ é€Ÿåœ°å€',
          info: true
        }
      ];
    }

    function convert() {
      const url = input.value.trim();
      if (!url) {
        alert("è¯·è¾“å…¥åŸå§‹é“¾æ¥");
        return;
      }

      let results = [];

      if (isGitHubRaw(url)) {
        const urls = getJsDelivrUrls(url);
        if (urls) {
          results = urls;
        } else {
          alert("æ— æ³•è§£æ GitHub é“¾æ¥ï¼Œè¯·æ£€æŸ¥æ ¼å¼æ˜¯å¦æ­£ç¡®");
          return;
        }
      } else {
        // é GitHub é“¾æ¥ â†’ æä¾›å¤šç§ä»£ç†æ–¹æ¡ˆ
        results = getProxyUrls(url);
      }

      // æ˜¾ç¤ºç»“æœ
      resultGroup.innerHTML = '';
      results.forEach(item => {
        const div = document.createElement('div');
        div.className = 'result-card';

        let content = `<div class="label">${item.label}</div>`;

        if (item.url) {
          content += `<div class="result-url">${item.url}</div>`;
        }

        content += `<div class="hint">${item.hint}</div>`;

        if (item.url && !item.warning) {
          content += `<button class="copy-btn" data-url="${item.url}">ğŸ“‹ å¤åˆ¶</button>`;
        } else if (item.url && item.warning) {
          content += `<button class="copy-btn warn" data-url="${item.url}">âš ï¸ æµ‹è¯•</button>`;
        }

        div.innerHTML = content;
        resultGroup.appendChild(div);
      });

      resultGroup.style.display = 'block';
      actionBtn.textContent = 'â†º é‡ç½®';
    }

    function clearOrReset() {
      input.value = '';
      resultGroup.style.display = 'none';
      resultGroup.innerHTML = '';
      actionBtn.textContent = 'ğŸ—‘ï¸ æ¸…ç©º';
      input.focus();
    }

    // å¤åˆ¶åŠŸèƒ½
    resultGroup.addEventListener('click', e => {
      const btn = e.target.closest('.copy-btn');
      if (!btn) return;

      const url = btn.dataset.url;
      navigator.clipboard.writeText(url).then(() => {
        const txt = btn.textContent;
        btn.textContent = "âœ… å·²å¤åˆ¶";
        setTimeout(() => btn.textContent = txt, 1500);
      }).catch(() => {
        prompt("å¤åˆ¶æˆåŠŸï¼", url);
      });
    });

    convertBtn.addEventListener('click', convert);
    actionBtn.addEventListener('click', clearOrReset);
    input.focus();

    input.addEventListener('keydown', e => {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        convert();
      }
    });
  </script>

  <style>
    :root {
      --bg: #f7f9fc;
      --card-bg: #ffffff;
      --text: #1c1e21;
      --text-light: #666;
      --border: #e1e5e9;
      --primary: #007aff;
      --shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
      --radius: 16px;
      --transition: all 0.2s ease;
    }
    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #000000;
        --card-bg: #1c1c1e;
        --text: #f1f1f3;
        --text-light: #8e8e93;
        --border: #3a3a3c;
      }
    }
    * { box-sizing: border-box; margin:0; padding:0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: var(--bg); color: var(--text);
      line-height: 1.6;
      padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
      max-width: 860px; margin: 0 auto;
      min-height: 100vh; display: flex; flex-direction: column;
    }
    h1 { text-align:center; font-size:1.8rem; font-weight:600; margin:32px 0 16px; letter-spacing:-0.02em; }
    .subtitle { text-align:center; font-size:1rem; color:var(--text-light); margin-bottom:24px; }
    .container { flex:1; padding:0 20px; display:flex; flex-direction:column; gap:20px; }
    
    textarea {
      width: 100%;
      min-height: 140px;
      padding: 20px;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      font-size: 1rem;
      resize: vertical;
      background: var(--card-bg);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      transition: var(--transition);
    }
    textarea:focus { outline:none; border-color:var(--primary); box-shadow:0 0 0 1px var(--primary), var(--shadow); }
    textarea::placeholder { color:var(--text-light); line-height:1.6; }

    .tip {
      font-size:0.9rem; color:var(--text-light); padding:14px 20px;
      background:var(--card-bg); border:1px solid var(--border); border-radius:var(--radius);
      margin-top:-8px; box-shadow:0 1px 6px rgba(0,0,0,0.05);
      word-break:break-all; overflow-wrap:break-word;
    }

    #resultGroup { display:none; flex-direction:column; gap:16px; margin-top:10px; }
    .result-card {
      background:var(--card-bg); border:1px solid var(--border); border-radius:var(--radius);
      padding:16px; box-shadow:var(--shadow);
    }
    .label {
      font-weight:600; margin-bottom:6px; font-size:1.05rem;
    }
    .result-url {
      font-family:'SF Mono',Monaco,'Courier New',monospace; color:#d63384;
      word-break:break-all; white-space:pre-wrap; margin-bottom:8px; font-size:0.95rem; line-height:1.5;
    }
    .hint {
      font-size:0.9rem; color:var(--text-light); margin-bottom:10px;
    }
    .copy-btn {
      background:var(--primary); color:white; border:none; padding:6px 12px;
      font-size:0.9rem; border-radius:8px; cursor:pointer; transition:var(--transition);
    }
    .copy-btn.warn { background:#ffa500; }
    .copy-btn:active { transform:scale(0.96); }

    .buttons { display:flex; gap:12px; margin-top:10px; }
    button {
      flex:1; padding:14px 0; font-size:1rem; font-weight:500; border:none;
      border-radius:var(--radius); cursor:pointer; transition:var(--transition);
      box-shadow:0 1px 4px rgba(0,0,0,0.1);
    }
    button:active { transform:scale(0.98); }
    #convert { background-color:var(--primary); color:white; }
    #actionBtn { background-color:var(--border); color:var(--text); }
    footer {
      margin-top:40px; text-align:center; font-size:0.85rem; color:var(--text-light); padding-bottom:30px;
    }
    button:hover:not(:active) { opacity:0.92; }
  </style>
</body>
</html>